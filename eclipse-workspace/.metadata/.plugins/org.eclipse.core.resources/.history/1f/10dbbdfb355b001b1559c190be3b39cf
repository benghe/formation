package fr.adopteunchat.service;

import java.util.List;

import fr.adopteunchat.dao.IPersonneDao;
import fr.adopteunchat.dao.sql.PersonneDaoSql;
import fr.adopteunchat.model.Personne;

public class PersonneService {
	
	IPersonneDao daoPersonne = new PersonneDaoSql();
	
	
	public List<Personne> findAll() {
		
		return daoPersonne.findAll();

	}
	
	public Personne findById(int id) {
		
		if (id!=0) {
			return daoPersonne.findById(id);
		}
		
		return null;
		
	}
	
	public Personne add(Personne entity) {
		
		if(entity.getNom()==null) {
			return null;
		}
		
		boolean Type = false;
		if(entity.getType().equals("Adoptant") || entity.getType().equals("Refuge")) {
			Type=true;
		}
		
		String DateNaissance=entity.getDateNaissance();
		
		Boolean DateNaissanceCheck=false;
		if(DateNaissance.charAt(4).equals('-') && DateNaissance.charAt(7).equals("-")) {
			DateNaissanceCheck=true;
		}
		
		if(!entity.getNom().equals("") && entity.getPassword().length()>=6 && Type && DateNaissanceCheck) {
			return daoPersonne.add(entity);
		}
		
		return null;
	}
	

}
